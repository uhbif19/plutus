<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances    #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE GADTs                #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase           #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving   #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications     #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators        #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-comment">-- | Flat instances for Plutus Core types. Make sure to read the</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- Note [Stable encoding of PLC] before touching anything in this</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- file.  Also see the Notes [Serialising unit annotations] and</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- [Serialising Scripts] before using anything in this file.</span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">PlutusCore.Flat</span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="PlutusCore.Flat.html#AsSerialize"><span class="hs-identifier">AsSerialize</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="PlutusCore.Flat.html#safeEncodeBits"><span class="hs-identifier">safeEncodeBits</span></a></span><span>
</span><span id="line-19"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.Core.html"><span class="hs-identifier">PlutusCore.Core</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.Data.html"><span class="hs-identifier">PlutusCore.Data</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Data.html#Data"><span class="hs-identifier">Data</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.DeBruijn.html"><span class="hs-identifier">PlutusCore.DeBruijn</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="PlutusCore.Name.html"><span class="hs-identifier">PlutusCore.Name</span></a></span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.Serialise</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Serialise</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">deserialiseOrFail</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">serialise</span></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Data.Coerce</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Data.Functor</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Data.Proxy</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Data.Word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Word8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Flat</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Flat.Decoder</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Flat.Encoder</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Natural.Extras.html"><span class="hs-identifier">GHC.Natural.Extras</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Universe.html"><span class="hs-identifier">Universe</span></a></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-comment">{- Note [Stable encoding of PLC]
READ THIS BEFORE TOUCHING ANYTHING IN THIS FILE

We need the encoding of PLC on the blockchain to be *extremely* stable. It *must not* change
arbitrarily, otherwise we'll be unable to read back old transactions and validate them.

Consequently we don't use the derivable instances of `Flat` for the PLC types that go
on the chain.

However, the instances in this file *are* constrained by instances for names, type names,
and annotations. What's to stop the instances for *those* changing, thus changing
the overall encoding on the chain?

The answer is that what goes on the chain is *always* a `Program TyName Name ()`. The instances
for `TyName` and `Name` are nailed down here, and the instance for `()` is standard.

However, having this flexibility allows us to encode e.g. PLC with substantial annotations
(like position information) in situation where the stability is *not* critical, such as
for testing.
-}</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-comment">{- Note [Encoding/decoding constructor tags using Flat]
Flat saves space when compared to CBOR by allowing tags to use the minimum
number of bits required for their encoding.

This requires specialised encode/decode functions for each constructor
that encodes a different number of possibilities. Here is a list of the
tags and their used/available encoding possibilities.

** The BELOW table is about Typed-PLC and not UPLC. See `UntypedPlutusCore.Core.Instance.Flat`**

| Data type        | Function          | Bit Width | Total | Used | Remaining |
|------------------|-------------------|-----------|-------|------|-----------|
| default builtins | encodeBuiltin     | 7         | 128   | 54   | 74        |
| Kinds            | encodeKind        | 1         | 2     | 2    | 0         |
| Types            | encodeType        | 3         | 8     | 7    | 1         |
| Terms            | encodeTerm        | 4         | 16    | 12   | 4         |

For format stability we are manually assigning the tag values to the
constructors (and we do not use a generic algorithm that may change this order).

All encodings use the function `safeEncodeBits :: NumBits -&gt; Word8 -&gt; Encoding`, which encodes
at most 8 bits of data, and the first argument specifies how many bits from the 8
available are actually used. This function also checks the size of the `Word8`
argument at runtime.

Flat uses an extra function in its class definition called `size`. Since we want
to reserve some space for future data constructors and we don't want to have the
sizes desynchronised from the encoding and decoding functions we have manual
implementations for them (if they have any constructors reserved for future use).

By default, Flat does not use any space to serialise `()`.
-}</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-comment">{- Note [Index (Word64) (de)serialized through Natural]

With the recent change of CEK to use DeBruijn instead of Name,
we decided to change Index to be a Word64 instead of Natural, for performance reasons.

However, to be absolutely sure that the script format *does not change*
for plutus, we are converting from/to Word64 and (de)-serialize *only through
Natural*, to keep the flat format the same.

Also, for sake of speed &amp; simplicity we restrict the current deserialization to work
only on 64-bit architectures (serialization still works on 32-bit architecture because it
is not in the critical path).

Note: We have another 64-bit limitation, this time not during script deserialization but during
script execution, for more see Note [Integral types as Integer].

Going a step further is to switch to *direct* Word64 (de)-serializization:
afterall, Natural and Word64 are flat-compatible up-to `maxBound :: Word64`.
A problem may arise in currently stored scripts on the chain containing
a variable with a huge debruijn index: `&gt;maxBound::Word64`. Such a script
will definitely fail at phase-2 validation (more specifically, at scope-checking)
because of the current script-size constraints deeming the hugely-indexed variable a free-variable.
Changing to direct Word64 (de)-serialization will turn those existing stored
scripts to a phase-1 failure instead of current phase-2 failure.

We postpone this transition to direct Word64 (de)-serializer for a future plutus version.
-}</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-comment">-- | For deriving 'Flat' instances via 'Serialize'.</span><span>
</span><span id="line-121"></span><span class="hs-keyword">newtype</span><span> </span><span id="AsSerialize"><span class="annot"><a href="PlutusCore.Flat.html#AsSerialize"><span class="hs-identifier hs-var">AsSerialize</span></a></span></span><span> </span><span id="local-6989586621681096468"><span class="annot"><a href="#local-6989586621681096468"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="AsSerialize"><span class="annot"><a href="PlutusCore.Flat.html#AsSerialize"><span class="hs-identifier hs-var">AsSerialize</span></a></span></span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="unAsSerialize"><span class="annot"><span class="annottext">forall a. AsSerialize a -&gt; a
</span><a href="PlutusCore.Flat.html#unAsSerialize"><span class="hs-identifier hs-var hs-var">unAsSerialize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621681096468"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-123"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681096133"><span id="local-6989586621681096137"><span id="local-6989586621681096141"><span id="local-6989586621681096145"><span class="annot"><span class="annottext">[AsSerialize a] -&gt; Encoding
AsSerialize a -&gt; Encoding
forall s. Decoder s [AsSerialize a]
forall s. Decoder s (AsSerialize a)
forall a. Serialise a =&gt; [AsSerialize a] -&gt; Encoding
forall a. Serialise a =&gt; AsSerialize a -&gt; Encoding
forall a s. Serialise a =&gt; Decoder s [AsSerialize a]
forall a s. Serialise a =&gt; Decoder s (AsSerialize a)
forall a.
(a -&gt; Encoding)
-&gt; (forall s. Decoder s a)
-&gt; ([a] -&gt; Encoding)
-&gt; (forall s. Decoder s [a])
-&gt; Serialise a
decodeList :: forall s. Decoder s [AsSerialize a]
$cdecodeList :: forall a s. Serialise a =&gt; Decoder s [AsSerialize a]
encodeList :: [AsSerialize a] -&gt; Encoding
$cencodeList :: forall a. Serialise a =&gt; [AsSerialize a] -&gt; Encoding
decode :: forall s. Decoder s (AsSerialize a)
$cdecode :: forall a s. Serialise a =&gt; Decoder s (AsSerialize a)
encode :: AsSerialize a -&gt; Encoding
$cencode :: forall a. Serialise a =&gt; AsSerialize a -&gt; Encoding
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Serialise</span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681096452"><span class="annot"><span class="hs-identifier hs-type">Serialise</span></span><span> </span><span class="annot"><a href="#local-6989586621681096452"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Flat.html#AsSerialize"><span class="hs-identifier hs-type">AsSerialize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096452"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-126"></span><span>    </span><span id="local-6989586621681096119"><span class="annot"><span class="annottext">encode :: AsSerialize a -&gt; Encoding
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Serialise a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">serialise</span></span><span>
</span><span id="line-127"></span><span>    </span><span id="local-6989586621681096104"><span class="annot"><span class="annottext">decode :: Get (AsSerialize a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-128"></span><span>        </span><span id="local-6989586621681096102"><span class="annot"><span class="annottext">Either DeserialiseFailure (AsSerialize a)
</span><a href="#local-6989586621681096102"><span class="hs-identifier hs-var">errOrX</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. Serialise a =&gt; ByteString -&gt; Either DeserialiseFailure a
</span><span class="hs-identifier hs-var">deserialiseOrFail</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-129"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either DeserialiseFailure (AsSerialize a)
</span><a href="#local-6989586621681096102"><span class="hs-identifier hs-var">errOrX</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-130"></span><span>            </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621681096100"><span class="annot"><span class="annottext">DeserialiseFailure
</span><a href="#local-6989586621681096100"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; [Char] -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">DeserialiseFailure
</span><a href="#local-6989586621681096100"><span class="hs-identifier hs-var">err</span></a></span><span>  </span><span class="hs-comment">-- Here we embed a 'Serialise' error into a 'Flat' one.</span><span>
</span><span id="line-131"></span><span>            </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621681096098"><span class="annot"><span class="annottext">AsSerialize a
</span><a href="#local-6989586621681096098"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">AsSerialize a
</span><a href="#local-6989586621681096098"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-132"></span><span>    </span><span id="local-6989586621681096095"><span class="annot"><span class="annottext">size :: AsSerialize a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Serialise a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">serialise</span></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="annot"><a href="PlutusCore.Flat.html#safeEncodeBits"><span class="hs-identifier hs-type">safeEncodeBits</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NumBits</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Encoding</span></span><span>
</span><span id="line-135"></span><span id="safeEncodeBits"><span class="annot"><span class="annottext">safeEncodeBits :: NumBits -&gt; Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#safeEncodeBits"><span class="hs-identifier hs-var hs-var">safeEncodeBits</span></a></span></span><span> </span><span id="local-6989586621681096093"><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681096093"><span class="hs-identifier hs-var">maxBits</span></a></span></span><span> </span><span id="local-6989586621681096092"><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621681096092"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">^</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681096093"><span class="hs-identifier hs-var">maxBits</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621681096092"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Overflow detected, cannot fit &quot;</span></span><span>
</span><span id="line-138"></span><span>               </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621681096092"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; in &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681096093"><span class="hs-identifier hs-var">maxBits</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; bits.&quot;</span></span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">NumBits -&gt; Word8 -&gt; Encoding
</span><span class="hs-identifier hs-var">eBits</span></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681096093"><span class="hs-identifier hs-var">maxBits</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621681096092"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="annot"><a href="PlutusCore.Flat.html#constantWidth"><span class="hs-identifier hs-type">constantWidth</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NumBits</span></span><span>
</span><span id="line-142"></span><span id="constantWidth"><span class="annot"><span class="annottext">constantWidth :: NumBits
</span><a href="PlutusCore.Flat.html#constantWidth"><span class="hs-identifier hs-var hs-var">constantWidth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits
</span><span class="hs-number">4</span></span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="annot"><a href="PlutusCore.Flat.html#encodeConstant"><span class="hs-identifier hs-type">encodeConstant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Encoding</span></span><span>
</span><span id="line-145"></span><span id="encodeConstant"><span class="annot"><span class="annottext">encodeConstant :: Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeConstant"><span class="hs-identifier hs-var hs-var">encodeConstant</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits -&gt; Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#safeEncodeBits"><span class="hs-identifier hs-var">safeEncodeBits</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="PlutusCore.Flat.html#constantWidth"><span class="hs-identifier hs-var">constantWidth</span></a></span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span class="annot"><a href="PlutusCore.Flat.html#decodeConstant"><span class="hs-identifier hs-type">decodeConstant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span>
</span><span id="line-148"></span><span id="decodeConstant"><span class="annot"><span class="annottext">decodeConstant :: Get Word8
</span><a href="PlutusCore.Flat.html#decodeConstant"><span class="hs-identifier hs-var hs-var">decodeConstant</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits -&gt; Get Word8
</span><span class="hs-identifier hs-var">dBEBits8</span></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="PlutusCore.Flat.html#constantWidth"><span class="hs-identifier hs-var">constantWidth</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span id="local-6989586621681096072"><span id="local-6989586621681096077"><span id="local-6989586621681096082"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="annot"><a href="PlutusCore.Flat.html#AsSerialize"><span class="hs-identifier hs-type">AsSerialize</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="PlutusCore.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a></span></span></span></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span id="local-6989586621681096426"><span class="annot"><a href="PlutusCore.Flat.html#decodeKindedUniFlat"><span class="hs-identifier hs-type">decodeKindedUniFlat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Universe.Core.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096426"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#SomeTypeIn"><span class="hs-identifier hs-type">SomeTypeIn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#Kinded"><span class="hs-identifier hs-type">Kinded</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096426"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-153"></span><span id="decodeKindedUniFlat"><span class="annot"><span class="annottext">decodeKindedUniFlat :: forall (uni :: * -&gt; *). Closed uni =&gt; Get (SomeTypeIn (Kinded uni))
</span><a href="PlutusCore.Flat.html#decodeKindedUniFlat"><span class="hs-identifier hs-var hs-var">decodeKindedUniFlat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-154"></span><span>    </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *} {a}. MonadFail m =&gt; Maybe a -&gt; m a
</span><a href="#local-6989586621681096057"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *).
Closed uni =&gt;
[NumBits] -&gt; Maybe (SomeTypeIn (Kinded uni))
</span><a href="Universe.Core.html#decodeKindedUni"><span class="hs-identifier hs-var">decodeKindedUni</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Get a -&gt; Get [a]
</span><span class="hs-identifier hs-var">decodeListWith</span></span><span> </span><span class="annot"><span class="annottext">Get Word8
</span><a href="PlutusCore.Flat.html#decodeConstant"><span class="hs-identifier hs-var">decodeConstant</span></a></span><span>
</span><span id="line-156"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-157"></span><span>        </span><span id="local-6989586621681096057"><span class="annot"><span class="annottext">go :: Maybe a -&gt; m a
</span><a href="#local-6989586621681096057"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; [Char] -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Failed to decode a universe&quot;</span></span><span>
</span><span id="line-158"></span><span>        </span><span class="annot"><a href="#local-6989586621681096057"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681096046"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681096046"><span class="hs-identifier hs-var">uni</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681096046"><span class="hs-identifier hs-var">uni</span></a></span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-comment">-- See Note [The G, the Tag and the Auto].</span><span>
</span><span id="line-161"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681096409"><span class="annot"><a href="Universe.Core.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096409"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#SomeTypeIn"><span class="hs-identifier hs-type">SomeTypeIn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096409"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-162"></span><span>    </span><span id="local-6989586621681096040"><span class="annot"><span class="annottext">encode :: SomeTypeIn uni -&gt; Encoding
</span><a href="#local-6989586621681096040"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#SomeTypeIn"><span class="hs-identifier hs-type">SomeTypeIn</span></a></span><span> </span><span id="local-6989586621681096035"><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681096035"><span class="hs-identifier hs-var">uni</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-163"></span><span>      </span><span class="annot"><span class="annottext">forall t. (t -&gt; Encoding) -&gt; [t] -&gt; Encoding
</span><span class="hs-identifier hs-var">encodeListWith</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeConstant"><span class="hs-identifier hs-var">encodeConstant</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-164"></span><span>        </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *) a. Closed uni =&gt; uni a -&gt; [NumBits]
</span><a href="Universe.Core.html#encodeUni"><span class="hs-identifier hs-var">encodeUni</span></a></span><span> </span><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681096035"><span class="hs-identifier hs-var">uni</span></a></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span>    </span><span id="local-6989586621681096030"><span class="annot"><span class="annottext">decode :: Get (SomeTypeIn uni)
</span><a href="#local-6989586621681096030"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *). Closed uni =&gt; Get (SomeTypeIn (Kinded uni))
</span><a href="PlutusCore.Flat.html#decodeKindedUniFlat"><span class="hs-identifier hs-var">decodeKindedUniFlat</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&amp;&gt;</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#SomeTypeIn"><span class="hs-identifier hs-type">SomeTypeIn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#Kinded"><span class="hs-identifier hs-type">Kinded</span></a></span><span> </span><span id="local-6989586621681096025"><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681096025"><span class="hs-identifier hs-var">uni</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *) k (a :: k). uni (Esc a) -&gt; SomeTypeIn uni
</span><a href="Universe.Core.html#SomeTypeIn"><span class="hs-identifier hs-var">SomeTypeIn</span></a></span><span> </span><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681096025"><span class="hs-identifier hs-var">uni</span></a></span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-comment">-- Encode a view of the universe, not the universe itself.</span><span>
</span><span id="line-169"></span><span>    </span><span id="local-6989586621681096024"><span class="annot"><span class="annottext">size :: SomeTypeIn uni -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621681096024"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#SomeTypeIn"><span class="hs-identifier hs-type">SomeTypeIn</span></a></span><span> </span><span id="local-6989586621681096014"><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681096014"><span class="hs-identifier hs-var">uni</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681096013"><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681096013"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-170"></span><span>      </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681096013"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">+</span></a></span><span>
</span><span id="line-171"></span><span>      </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; NumBits
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *) a. Closed uni =&gt; uni a -&gt; [NumBits]
</span><a href="Universe.Core.html#encodeUni"><span class="hs-identifier hs-var">encodeUni</span></a></span><span> </span><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681096014"><span class="hs-identifier hs-var">uni</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NumBits
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="PlutusCore.Flat.html#constantWidth"><span class="hs-identifier hs-var">constantWidth</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="hs-comment">-- List Cons (1 bit) + constant</span><span>
</span><span id="line-172"></span><span>      </span><span class="annot"><span class="annottext">NumBits
</span><span class="hs-number">1</span></span><span> </span><span class="hs-comment">-- List Nil (1 bit)</span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="hs-comment">-- See Note [The G, the Tag and the Auto].</span><span>
</span><span id="line-175"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681096383"><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096383"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681096383"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="Universe.Core.html#Everywhere"><span class="hs-operator hs-type">`Everywhere`</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Some</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#ValueOf"><span class="hs-identifier hs-type">ValueOf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096383"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-176"></span><span>    </span><span id="local-6989586621681096003"><span class="annot"><span class="annottext">encode :: Some (ValueOf uni) -&gt; Encoding
</span><a href="#local-6989586621681096003"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Some</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#ValueOf"><span class="hs-identifier hs-type">ValueOf</span></a></span><span> </span><span id="local-6989586621681095995"><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681095995"><span class="hs-identifier hs-var">uni</span></a></span></span><span> </span><span id="local-6989586621681095994"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681095994"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *) k (a :: k). uni (Esc a) -&gt; SomeTypeIn uni
</span><a href="Universe.Core.html#SomeTypeIn"><span class="hs-identifier hs-var">SomeTypeIn</span></a></span><span> </span><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681095995"><span class="hs-identifier hs-var">uni</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *) (constr :: * -&gt; Constraint)
       (proxy :: (* -&gt; Constraint) -&gt; *) a r.
(Closed uni, Everywhere uni constr) =&gt;
proxy constr -&gt; uni (Esc a) -&gt; (constr a =&gt; r) -&gt; r
</span><a href="Universe.Core.html#bring"><span class="hs-identifier hs-var">bring</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {k} (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681095995"><span class="hs-identifier hs-var">uni</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681095994"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span>    </span><span id="local-6989586621681095987"><span class="annot"><span class="annottext">decode :: Get (Some (ValueOf uni))
</span><a href="#local-6989586621681095987"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-179"></span><span>        </span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *). Closed uni =&gt; Get (SomeTypeIn (Kinded uni))
</span><a href="PlutusCore.Flat.html#decodeKindedUniFlat"><span class="hs-identifier hs-var">decodeKindedUniFlat</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681096383"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#SomeTypeIn"><span class="hs-identifier hs-type">SomeTypeIn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#Kinded"><span class="hs-identifier hs-type">Kinded</span></a></span><span> </span><span id="local-6989586621681095974"><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681095974"><span class="hs-identifier hs-var">uni</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-180"></span><span>            </span><span class="hs-comment">-- See Note [Decoding universes].</span><span>
</span><span id="line-181"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *) a (x :: a).
Typeable a =&gt;
uni (Esc x) -&gt; Maybe (a :~: *)
</span><a href="Universe.Core.html#checkStar"><span class="hs-identifier hs-var">checkStar</span></a></span><span> </span><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681095974"><span class="hs-identifier hs-var">uni</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-182"></span><span>                </span><span class="annot"><span class="annottext">Maybe (k :~: *)
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; [Char] -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;A non-star type can't have a value to decode&quot;</span></span><span>
</span><span id="line-183"></span><span>                </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">k :~: *
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Refl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {k} (tag :: k -&gt; *) (a :: k). tag a -&gt; Some tag
</span><span class="hs-identifier hs-var">Some</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *) a. uni (Esc a) -&gt; a -&gt; ValueOf uni a
</span><a href="Universe.Core.html#ValueOf"><span class="hs-identifier hs-var">ValueOf</span></a></span><span> </span><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681095974"><span class="hs-identifier hs-var">uni</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *) (constr :: * -&gt; Constraint)
       (proxy :: (* -&gt; Constraint) -&gt; *) a r.
(Closed uni, Everywhere uni constr) =&gt;
proxy constr -&gt; uni (Esc a) -&gt; (constr a =&gt; r) -&gt; r
</span><a href="Universe.Core.html#bring"><span class="hs-identifier hs-var">bring</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {k} (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681095974"><span class="hs-identifier hs-var">uni</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span>    </span><span class="hs-comment">-- We need to get the flat instance in scope.</span><span>
</span><span id="line-186"></span><span>    </span><span id="local-6989586621681095963"><span class="annot"><span class="annottext">size :: Some (ValueOf uni) -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621681095963"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Some</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#ValueOf"><span class="hs-identifier hs-type">ValueOf</span></a></span><span> </span><span id="local-6989586621681095958"><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681095958"><span class="hs-identifier hs-var">uni</span></a></span></span><span> </span><span id="local-6989586621681095957"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681095957"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681095956"><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095956"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *) k (a :: k). uni (Esc a) -&gt; SomeTypeIn uni
</span><a href="Universe.Core.html#SomeTypeIn"><span class="hs-identifier hs-var">SomeTypeIn</span></a></span><span> </span><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681095958"><span class="hs-identifier hs-var">uni</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095956"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-187"></span><span>                                        </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">forall (uni :: * -&gt; *) (constr :: * -&gt; Constraint)
       (proxy :: (* -&gt; Constraint) -&gt; *) a r.
(Closed uni, Everywhere uni constr) =&gt;
proxy constr -&gt; uni (Esc a) -&gt; (constr a =&gt; r) -&gt; r
</span><a href="Universe.Core.html#bring"><span class="hs-identifier hs-var">bring</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {k} (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">uni (Esc a)
</span><a href="#local-6989586621681095958"><span class="hs-identifier hs-var">uni</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681095957"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span id="local-6989586621681095943"><span id="local-6989586621681095947"><span id="local-6989586621681095952"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="PlutusCore.Name.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span></span></span></span><span> </span><span class="hs-comment">-- via int</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681095937"><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="PlutusCore.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>    </span><span id="local-6989586621681095933"><span class="annot"><span class="annottext">encode :: Name -&gt; Encoding
</span><a href="#local-6989586621681095933"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span id="local-6989586621681095931"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621681095931"><span class="hs-identifier hs-var">txt</span></a></span></span><span> </span><span id="local-6989586621681095930"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621681095930"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621681095931"><span class="hs-identifier hs-var">txt</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621681095930"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-193"></span><span>    </span><span id="local-6989586621681095925"><span class="annot"><span class="annottext">decode :: Get Name
</span><a href="#local-6989586621681095925"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Unique -&gt; Name
</span><a href="PlutusCore.Name.html#Name"><span class="hs-identifier hs-var">Name</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span id="local-6989586621681095915"><span id="local-6989586621681095919"><span id="local-6989586621681095923"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="PlutusCore.Name.html#TyName"><span class="hs-identifier hs-type">TyName</span></a></span></span></span></span><span> </span><span class="hs-comment">-- via Name</span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681095908"><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="PlutusCore.Version.html#Version"><span class="hs-identifier hs-type">Version</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-198"></span><span>    </span><span id="local-6989586621681095902"><span class="annot"><span class="annottext">encode :: Version -&gt; Encoding
</span><a href="#local-6989586621681095902"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Version.html#Version"><span class="hs-identifier hs-type">Version</span></a></span><span> </span><span id="local-6989586621681095900"><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621681095900"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681095899"><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621681095899"><span class="hs-identifier hs-var">n'</span></a></span></span><span> </span><span id="local-6989586621681095898"><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621681095898"><span class="hs-identifier hs-var">n''</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621681095900"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621681095899"><span class="hs-identifier hs-var">n'</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621681095898"><span class="hs-identifier hs-var">n''</span></a></span><span>
</span><span id="line-199"></span><span>    </span><span id="local-6989586621681095891"><span class="annot"><span class="annottext">decode :: Get Version
</span><a href="#local-6989586621681095891"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Natural -&gt; Natural -&gt; Version
</span><a href="PlutusCore.Version.html#Version"><span class="hs-identifier hs-var">Version</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-comment">-- | Use 1 bit to encode kind tags.</span><span>
</span><span id="line-202"></span><span class="annot"><a href="PlutusCore.Flat.html#kindTagWidth"><span class="hs-identifier hs-type">kindTagWidth</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NumBits</span></span><span>
</span><span id="line-203"></span><span id="kindTagWidth"><span class="annot"><span class="annottext">kindTagWidth :: NumBits
</span><a href="PlutusCore.Flat.html#kindTagWidth"><span class="hs-identifier hs-var hs-var">kindTagWidth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits
</span><span class="hs-number">1</span></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="annot"><a href="PlutusCore.Flat.html#encodeKind"><span class="hs-identifier hs-type">encodeKind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Encoding</span></span><span>
</span><span id="line-206"></span><span id="encodeKind"><span class="annot"><span class="annottext">encodeKind :: Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeKind"><span class="hs-identifier hs-var hs-var">encodeKind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits -&gt; Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#safeEncodeBits"><span class="hs-identifier hs-var">safeEncodeBits</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="PlutusCore.Flat.html#kindTagWidth"><span class="hs-identifier hs-var">kindTagWidth</span></a></span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="annot"><a href="PlutusCore.Flat.html#decodeKind"><span class="hs-identifier hs-type">decodeKind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span>
</span><span id="line-209"></span><span id="decodeKind"><span class="annot"><span class="annottext">decodeKind :: Get Word8
</span><a href="PlutusCore.Flat.html#decodeKind"><span class="hs-identifier hs-var hs-var">decodeKind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits -&gt; Get Word8
</span><span class="hs-identifier hs-var">dBEBits8</span></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="PlutusCore.Flat.html#kindTagWidth"><span class="hs-identifier hs-var">kindTagWidth</span></a></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681096354"><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621681096354"><span class="hs-identifier hs-type">ann</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096354"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-212"></span><span>    </span><span id="local-6989586621681095873"><span class="annot"><span class="annottext">encode :: Kind ann -&gt; Encoding
</span><a href="#local-6989586621681095873"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-213"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span id="local-6989586621681095871"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095871"><span class="hs-identifier hs-var">ann</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeKind"><span class="hs-identifier hs-var">encodeKind</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095871"><span class="hs-identifier hs-var">ann</span></a></span><span>
</span><span id="line-214"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#KindArrow"><span class="hs-identifier hs-type">KindArrow</span></a></span><span> </span><span id="local-6989586621681095869"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095869"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095868"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095868"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681095867"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095867"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeKind"><span class="hs-identifier hs-var">encodeKind</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095869"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095868"><span class="hs-identifier hs-var">k</span></a></span><span>  </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095867"><span class="hs-identifier hs-var">k'</span></a></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span>    </span><span id="local-6989586621681095861"><span class="annot"><span class="annottext">decode :: Get (Kind ann)
</span><a href="#local-6989586621681095861"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {a} {a}. (Eq a, Num a, Flat a) =&gt; a -&gt; Get (Kind a)
</span><a href="#local-6989586621681095860"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Get Word8
</span><a href="PlutusCore.Flat.html#decodeKind"><span class="hs-identifier hs-var">decodeKind</span></a></span><span>
</span><span id="line-217"></span><span>        </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681095860"><span class="annot"><span class="annottext">go :: a -&gt; Get (Kind a)
</span><a href="#local-6989586621681095860"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. ann -&gt; Kind ann
</span><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-var">Type</span></a></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-218"></span><span>              </span><span class="annot"><a href="#local-6989586621681095860"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall ann. ann -&gt; Kind ann -&gt; Kind ann -&gt; Kind ann
</span><a href="PlutusCore.Core.Type.html#KindArrow"><span class="hs-identifier hs-var">KindArrow</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-219"></span><span>              </span><span class="annot"><a href="#local-6989586621681095860"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; [Char] -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Failed to decode Kind ()&quot;</span></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span>    </span><span id="local-6989586621681095838"><span class="annot"><span class="annottext">size :: Kind ann -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621681095838"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span id="local-6989586621681095837"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095837"><span class="hs-identifier hs-var">tm</span></a></span></span><span> </span><span id="local-6989586621681095836"><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095836"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-222"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-223"></span><span>        </span><span id="local-6989586621681095835"><span class="annot"><span class="annottext">sz' :: NumBits
</span><a href="#local-6989586621681095835"><span class="hs-identifier hs-var hs-var">sz'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095836"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="PlutusCore.Flat.html#kindTagWidth"><span class="hs-identifier hs-var">kindTagWidth</span></a></span><span>
</span><span id="line-224"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095837"><span class="hs-identifier hs-var">tm</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-225"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span id="local-6989586621681095834"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095834"><span class="hs-identifier hs-var">ann</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095834"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095835"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-226"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#KindArrow"><span class="hs-identifier hs-type">KindArrow</span></a></span><span> </span><span id="local-6989586621681095833"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095833"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095832"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095832"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681095831"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095831"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095833"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095832"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095831"><span class="hs-identifier hs-var">k'</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095835"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="hs-comment">-- | Use 3 bits to encode type tags.</span><span>
</span><span id="line-229"></span><span class="annot"><a href="PlutusCore.Flat.html#typeTagWidth"><span class="hs-identifier hs-type">typeTagWidth</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NumBits</span></span><span>
</span><span id="line-230"></span><span id="typeTagWidth"><span class="annot"><span class="annottext">typeTagWidth :: NumBits
</span><a href="PlutusCore.Flat.html#typeTagWidth"><span class="hs-identifier hs-var hs-var">typeTagWidth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits
</span><span class="hs-number">3</span></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="annot"><a href="PlutusCore.Flat.html#encodeType"><span class="hs-identifier hs-type">encodeType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Encoding</span></span><span>
</span><span id="line-233"></span><span id="encodeType"><span class="annot"><span class="annottext">encodeType :: Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeType"><span class="hs-identifier hs-var hs-var">encodeType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits -&gt; Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#safeEncodeBits"><span class="hs-identifier hs-var">safeEncodeBits</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="PlutusCore.Flat.html#typeTagWidth"><span class="hs-identifier hs-var">typeTagWidth</span></a></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="annot"><a href="PlutusCore.Flat.html#decodeType"><span class="hs-identifier hs-type">decodeType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span>
</span><span id="line-236"></span><span id="decodeType"><span class="annot"><span class="annottext">decodeType :: Get Word8
</span><a href="PlutusCore.Flat.html#decodeType"><span class="hs-identifier hs-var hs-var">decodeType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits -&gt; Get Word8
</span><span class="hs-identifier hs-var">dBEBits8</span></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="PlutusCore.Flat.html#typeTagWidth"><span class="hs-identifier hs-var">typeTagWidth</span></a></span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681096345"><span id="local-6989586621681096346"><span id="local-6989586621681096347"><span class="hs-special">(</span><span class="annot"><a href="Universe.Core.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096347"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621681096346"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621681096345"><span class="hs-identifier hs-type">tyname</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096345"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096347"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096346"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-239"></span><span>    </span><span id="local-6989586621681095765"><span class="annot"><span class="annottext">encode :: Type tyname uni ann -&gt; Encoding
</span><a href="#local-6989586621681095765"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-240"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span>     </span><span id="local-6989586621681095763"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095763"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095762"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095762"><span class="hs-identifier hs-var">tn</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeType"><span class="hs-identifier hs-var">encodeType</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095763"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095762"><span class="hs-identifier hs-var">tn</span></a></span><span>
</span><span id="line-241"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyFun"><span class="hs-identifier hs-type">TyFun</span></a></span><span>     </span><span id="local-6989586621681095760"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095760"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095759"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095759"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681095758"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095758"><span class="hs-identifier hs-var">t'</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeType"><span class="hs-identifier hs-var">encodeType</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095760"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095759"><span class="hs-identifier hs-var">t</span></a></span><span>   </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095758"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-242"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyIFix"><span class="hs-identifier hs-type">TyIFix</span></a></span><span>    </span><span id="local-6989586621681095756"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095756"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095755"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095755"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span id="local-6989586621681095754"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095754"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeType"><span class="hs-identifier hs-var">encodeType</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095756"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095755"><span class="hs-identifier hs-var">pat</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095754"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-243"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyForall"><span class="hs-identifier hs-type">TyForall</span></a></span><span>  </span><span id="local-6989586621681095752"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095752"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095751"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095751"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span id="local-6989586621681095750"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095750"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681095749"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095749"><span class="hs-identifier hs-var">t</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeType"><span class="hs-identifier hs-var">encodeType</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095752"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095751"><span class="hs-identifier hs-var">tn</span></a></span><span>  </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095750"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095749"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-244"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyBuiltin"><span class="hs-identifier hs-type">TyBuiltin</span></a></span><span> </span><span id="local-6989586621681095747"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095747"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095746"><span class="annot"><span class="annottext">SomeTypeIn uni
</span><a href="#local-6989586621681095746"><span class="hs-identifier hs-var">con</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeType"><span class="hs-identifier hs-var">encodeType</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095747"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">SomeTypeIn uni
</span><a href="#local-6989586621681095746"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-245"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyLam"><span class="hs-identifier hs-type">TyLam</span></a></span><span>     </span><span id="local-6989586621681095744"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095744"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095743"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095743"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681095742"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095742"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681095741"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095741"><span class="hs-identifier hs-var">t</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeType"><span class="hs-identifier hs-var">encodeType</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095744"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095743"><span class="hs-identifier hs-var">n</span></a></span><span>   </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095742"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095741"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-246"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyApp"><span class="hs-identifier hs-type">TyApp</span></a></span><span>     </span><span id="local-6989586621681095739"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095739"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095738"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095738"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681095737"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095737"><span class="hs-identifier hs-var">t'</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeType"><span class="hs-identifier hs-var">encodeType</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">6</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095739"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095738"><span class="hs-identifier hs-var">t</span></a></span><span>   </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095737"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-247"></span><span>        </span><span class="hs-comment">-- Note that this relies on the instance for lists. We shouldn't use this in the</span><span>
</span><span id="line-248"></span><span>        </span><span class="hs-comment">-- serious on-chain version but it's okay here.</span><span>
</span><span id="line-249"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TySOP"><span class="hs-identifier hs-type">TySOP</span></a></span><span>    </span><span id="local-6989586621681095735"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095735"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095734"><span class="annot"><span class="annottext">[[Type tyname uni ann]]
</span><a href="#local-6989586621681095734"><span class="hs-identifier hs-var">tyls</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeType"><span class="hs-identifier hs-var">encodeType</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">7</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095735"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">[[Type tyname uni ann]]
</span><a href="#local-6989586621681095734"><span class="hs-identifier hs-var">tyls</span></a></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span>    </span><span id="local-6989586621681095727"><span class="annot"><span class="annottext">decode :: Get (Type tyname uni ann)
</span><a href="#local-6989586621681095727"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {a} {a} {a} {uni :: * -&gt; *}.
(Eq a, Num a, Flat a, Flat a, Closed uni) =&gt;
a -&gt; Get (Type a uni a)
</span><a href="#local-6989586621681095726"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Get Word8
</span><a href="PlutusCore.Flat.html#decodeType"><span class="hs-identifier hs-var">decodeType</span></a></span><span>
</span><span id="line-252"></span><span>        </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681095726"><span class="annot"><span class="annottext">go :: a -&gt; Get (Type a uni a)
</span><a href="#local-6989586621681095726"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname (uni :: * -&gt; *) ann.
ann -&gt; tyname -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyVar"><span class="hs-identifier hs-var">TyVar</span></a></span><span>     </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-253"></span><span>              </span><span class="annot"><a href="#local-6989586621681095726"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyFun"><span class="hs-identifier hs-var">TyFun</span></a></span><span>     </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-254"></span><span>              </span><span class="annot"><a href="#local-6989586621681095726"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyIFix"><span class="hs-identifier hs-var">TyIFix</span></a></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-255"></span><span>              </span><span class="annot"><a href="#local-6989586621681095726"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">3</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; tyname -&gt; Kind ann -&gt; Type tyname uni ann -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyForall"><span class="hs-identifier hs-var">TyForall</span></a></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-256"></span><span>              </span><span class="annot"><a href="#local-6989586621681095726"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">4</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname (uni :: * -&gt; *) ann.
ann -&gt; SomeTypeIn uni -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyBuiltin"><span class="hs-identifier hs-var">TyBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-257"></span><span>              </span><span class="annot"><a href="#local-6989586621681095726"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">5</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; tyname -&gt; Kind ann -&gt; Type tyname uni ann -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyLam"><span class="hs-identifier hs-var">TyLam</span></a></span><span>     </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-258"></span><span>              </span><span class="annot"><a href="#local-6989586621681095726"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">6</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname (uni :: * -&gt; *) ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TyApp"><span class="hs-identifier hs-var">TyApp</span></a></span><span>     </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-259"></span><span>              </span><span class="annot"><a href="#local-6989586621681095726"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">7</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname (uni :: * -&gt; *) ann.
ann -&gt; [[Type tyname uni ann]] -&gt; Type tyname uni ann
</span><a href="PlutusCore.Core.Type.html#TySOP"><span class="hs-identifier hs-var">TySOP</span></a></span><span>     </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-260"></span><span>              </span><span class="annot"><a href="#local-6989586621681095726"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; [Char] -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Failed to decode Type TyName ()&quot;</span></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span>    </span><span id="local-6989586621681095630"><span class="annot"><span class="annottext">size :: Type tyname uni ann -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621681095630"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span id="local-6989586621681095629"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095629"><span class="hs-identifier hs-var">tm</span></a></span></span><span> </span><span id="local-6989586621681095628"><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095628"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-263"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-264"></span><span>        </span><span id="local-6989586621681095627"><span class="annot"><span class="annottext">sz' :: NumBits
</span><a href="#local-6989586621681095627"><span class="hs-identifier hs-var hs-var">sz'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095628"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="PlutusCore.Flat.html#typeTagWidth"><span class="hs-identifier hs-var">typeTagWidth</span></a></span><span>
</span><span id="line-265"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095629"><span class="hs-identifier hs-var">tm</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-266"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span>     </span><span id="local-6989586621681095626"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095626"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095625"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095625"><span class="hs-identifier hs-var">tn</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095626"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095625"><span class="hs-identifier hs-var">tn</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095627"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-267"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyFun"><span class="hs-identifier hs-type">TyFun</span></a></span><span>     </span><span id="local-6989586621681095624"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095624"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095623"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095623"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681095622"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095622"><span class="hs-identifier hs-var">t'</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095624"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095623"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095622"><span class="hs-identifier hs-var">t'</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095627"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-268"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyIFix"><span class="hs-identifier hs-type">TyIFix</span></a></span><span>    </span><span id="local-6989586621681095621"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095621"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095620"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095620"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span id="local-6989586621681095619"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095619"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095621"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095620"><span class="hs-identifier hs-var">pat</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095619"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095627"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-269"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyForall"><span class="hs-identifier hs-type">TyForall</span></a></span><span>  </span><span id="local-6989586621681095618"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095618"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095617"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095617"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span id="local-6989586621681095616"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095616"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681095615"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095615"><span class="hs-identifier hs-var">t</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095618"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095617"><span class="hs-identifier hs-var">tn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095616"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095615"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095627"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-270"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyBuiltin"><span class="hs-identifier hs-type">TyBuiltin</span></a></span><span> </span><span id="local-6989586621681095614"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095614"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095613"><span class="annot"><span class="annottext">SomeTypeIn uni
</span><a href="#local-6989586621681095613"><span class="hs-identifier hs-var">con</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095614"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">SomeTypeIn uni
</span><a href="#local-6989586621681095613"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095627"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-271"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyLam"><span class="hs-identifier hs-type">TyLam</span></a></span><span>     </span><span id="local-6989586621681095612"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095612"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095611"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095611"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681095610"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095610"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681095609"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095609"><span class="hs-identifier hs-var">t</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095612"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095611"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095610"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095609"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095627"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-272"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyApp"><span class="hs-identifier hs-type">TyApp</span></a></span><span>     </span><span id="local-6989586621681095608"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095608"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095607"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095607"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681095606"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095606"><span class="hs-identifier hs-var">t'</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095608"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095607"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095606"><span class="hs-identifier hs-var">t'</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095627"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-273"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TySOP"><span class="hs-identifier hs-type">TySOP</span></a></span><span>     </span><span id="local-6989586621681095605"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095605"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095604"><span class="annot"><span class="annottext">[[Type tyname uni ann]]
</span><a href="#local-6989586621681095604"><span class="hs-identifier hs-var">tyls</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095605"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">[[Type tyname uni ann]]
</span><a href="#local-6989586621681095604"><span class="hs-identifier hs-var">tyls</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095627"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="annot"><a href="PlutusCore.Flat.html#termTagWidth"><span class="hs-identifier hs-type">termTagWidth</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NumBits</span></span><span>
</span><span id="line-276"></span><span id="termTagWidth"><span class="annot"><span class="annottext">termTagWidth :: NumBits
</span><a href="PlutusCore.Flat.html#termTagWidth"><span class="hs-identifier hs-var hs-var">termTagWidth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits
</span><span class="hs-number">4</span></span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span class="annot"><a href="PlutusCore.Flat.html#encodeTerm"><span class="hs-identifier hs-type">encodeTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Encoding</span></span><span>
</span><span id="line-279"></span><span id="encodeTerm"><span class="annot"><span class="annottext">encodeTerm :: Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeTerm"><span class="hs-identifier hs-var hs-var">encodeTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits -&gt; Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#safeEncodeBits"><span class="hs-identifier hs-var">safeEncodeBits</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="PlutusCore.Flat.html#termTagWidth"><span class="hs-identifier hs-var">termTagWidth</span></a></span><span>
</span><span id="line-280"></span><span>
</span><span id="line-281"></span><span class="annot"><a href="PlutusCore.Flat.html#decodeTerm"><span class="hs-identifier hs-type">decodeTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span>
</span><span id="line-282"></span><span id="decodeTerm"><span class="annot"><span class="annottext">decodeTerm :: Get Word8
</span><a href="PlutusCore.Flat.html#decodeTerm"><span class="hs-identifier hs-var hs-var">decodeTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits -&gt; Get Word8
</span><span class="hs-identifier hs-var">dBEBits8</span></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="PlutusCore.Flat.html#termTagWidth"><span class="hs-identifier hs-var">termTagWidth</span></a></span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681096327"><span id="local-6989586621681096328"><span id="local-6989586621681096329"><span id="local-6989586621681096330"><span id="local-6989586621681096331"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Universe.Core.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096331"><span class="hs-identifier hs-type">uni</span></a></span><span>
</span><span id="line-285"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681096331"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="Universe.Core.html#Everywhere"><span class="hs-operator hs-type">`Everywhere`</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span>
</span><span id="line-286"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621681096330"><span class="hs-identifier hs-type">fun</span></a></span><span>
</span><span id="line-287"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621681096329"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-288"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621681096328"><span class="hs-identifier hs-type">tyname</span></a></span><span>
</span><span id="line-289"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621681096327"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-290"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096328"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096327"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096331"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096330"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096329"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-291"></span><span>    </span><span id="local-6989586621681095503"><span class="annot"><span class="annottext">encode :: Term tyname name uni fun ann -&gt; Encoding
</span><a href="#local-6989586621681095503"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-292"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>      </span><span id="local-6989586621681095501"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095501"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095500"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681095500"><span class="hs-identifier hs-var">n</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeTerm"><span class="hs-identifier hs-var">encodeTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095501"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681095500"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-293"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyAbs"><span class="hs-identifier hs-type">TyAbs</span></a></span><span>    </span><span id="local-6989586621681095498"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095498"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095497"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095497"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span id="local-6989586621681095496"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095496"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681095495"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095495"><span class="hs-identifier hs-var">t</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeTerm"><span class="hs-identifier hs-var">encodeTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095498"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095497"><span class="hs-identifier hs-var">tn</span></a></span><span>  </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095496"><span class="hs-identifier hs-var">k</span></a></span><span>   </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095495"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-294"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#LamAbs"><span class="hs-identifier hs-type">LamAbs</span></a></span><span>   </span><span id="local-6989586621681095493"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095493"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095492"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681095492"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681095491"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095491"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681095490"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095490"><span class="hs-identifier hs-var">t</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeTerm"><span class="hs-identifier hs-var">encodeTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095493"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681095492"><span class="hs-identifier hs-var">n</span></a></span><span>   </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095491"><span class="hs-identifier hs-var">ty</span></a></span><span>  </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095490"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-295"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Apply"><span class="hs-identifier hs-type">Apply</span></a></span><span>    </span><span id="local-6989586621681095488"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095488"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095487"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095487"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681095486"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095486"><span class="hs-identifier hs-var">t'</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeTerm"><span class="hs-identifier hs-var">encodeTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095488"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095487"><span class="hs-identifier hs-var">t</span></a></span><span>   </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095486"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-296"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span id="local-6989586621681095484"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095484"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095483"><span class="annot"><span class="annottext">Some (ValueOf uni)
</span><a href="#local-6989586621681095483"><span class="hs-identifier hs-var">c</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeTerm"><span class="hs-identifier hs-var">encodeTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095484"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Some (ValueOf uni)
</span><a href="#local-6989586621681095483"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-297"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyInst"><span class="hs-identifier hs-type">TyInst</span></a></span><span>   </span><span id="local-6989586621681095481"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095481"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095480"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095480"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681095479"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095479"><span class="hs-identifier hs-var">ty</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeTerm"><span class="hs-identifier hs-var">encodeTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095481"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095480"><span class="hs-identifier hs-var">t</span></a></span><span>   </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095479"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-298"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Unwrap"><span class="hs-identifier hs-type">Unwrap</span></a></span><span>   </span><span id="local-6989586621681095477"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095477"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095476"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095476"><span class="hs-identifier hs-var">t</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeTerm"><span class="hs-identifier hs-var">encodeTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">6</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095477"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095476"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-299"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#IWrap"><span class="hs-identifier hs-type">IWrap</span></a></span><span>    </span><span id="local-6989586621681095474"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095474"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095473"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095473"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span id="local-6989586621681095472"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095472"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681095471"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095471"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeTerm"><span class="hs-identifier hs-var">encodeTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">7</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095474"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095473"><span class="hs-identifier hs-var">pat</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095472"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095471"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-300"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Error"><span class="hs-identifier hs-type">Error</span></a></span><span>    </span><span id="local-6989586621681095469"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095469"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095468"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095468"><span class="hs-identifier hs-var">ty</span></a></span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeTerm"><span class="hs-identifier hs-var">encodeTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095469"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095468"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-301"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span>  </span><span id="local-6989586621681095466"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095466"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095465"><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681095465"><span class="hs-identifier hs-var">bn</span></a></span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeTerm"><span class="hs-identifier hs-var">encodeTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">9</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095466"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681095465"><span class="hs-identifier hs-var">bn</span></a></span><span>
</span><span id="line-302"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Constr"><span class="hs-identifier hs-type">Constr</span></a></span><span>   </span><span id="local-6989586621681095463"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095463"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095462"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095462"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681095461"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681095461"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681095460"><span class="annot"><span class="annottext">[Term tyname name uni fun ann]
</span><a href="#local-6989586621681095460"><span class="hs-identifier hs-var">es</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-303"></span><span>          </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeTerm"><span class="hs-identifier hs-var">encodeTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">10</span></span><span>
</span><span id="line-304"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095463"><span class="hs-identifier hs-var">ann</span></a></span><span>
</span><span id="line-305"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095462"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-306"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681095461"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-307"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">[Term tyname name uni fun ann]
</span><a href="#local-6989586621681095460"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-308"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Case"><span class="hs-identifier hs-type">Case</span></a></span><span>     </span><span id="local-6989586621681095458"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095458"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095457"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095457"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681095456"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095456"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681095455"><span class="annot"><span class="annottext">[Term tyname name uni fun ann]
</span><a href="#local-6989586621681095455"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-309"></span><span>          </span><span class="annot"><span class="annottext">Word8 -&gt; Encoding
</span><a href="PlutusCore.Flat.html#encodeTerm"><span class="hs-identifier hs-var">encodeTerm</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">11</span></span><span>
</span><span id="line-310"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095458"><span class="hs-identifier hs-var">ann</span></a></span><span>
</span><span id="line-311"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095457"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-312"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095456"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-313"></span><span>          </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">[Term tyname name uni fun ann]
</span><a href="#local-6989586621681095455"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span>    </span><span id="local-6989586621681095445"><span class="annot"><span class="annottext">decode :: Get (Term tyname name uni fun ann)
</span><a href="#local-6989586621681095445"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {uni :: * -&gt; *} {a} {a} {a} {tyname} {fun}.
(Everywhere uni Flat, Eq a, Num a, Closed uni, Flat a, Flat a,
 Flat tyname, Flat fun) =&gt;
a -&gt; Get (Term tyname a uni fun a)
</span><a href="#local-6989586621681095444"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Get Word8
</span><a href="PlutusCore.Flat.html#decodeTerm"><span class="hs-identifier hs-var">decodeTerm</span></a></span><span>
</span><span id="line-316"></span><span>        </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681095444"><span class="annot"><span class="annottext">go :: a -&gt; Get (Term tyname a uni fun a)
</span><a href="#local-6989586621681095444"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
ann -&gt; name -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Var"><span class="hs-identifier hs-var">Var</span></a></span><span>      </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-317"></span><span>              </span><span class="annot"><a href="#local-6989586621681095444"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">1</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; tyname
-&gt; Kind ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#TyAbs"><span class="hs-identifier hs-var">TyAbs</span></a></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-318"></span><span>              </span><span class="annot"><a href="#local-6989586621681095444"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">2</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; name
-&gt; Type tyname uni ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#LamAbs"><span class="hs-identifier hs-var">LamAbs</span></a></span><span>   </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-319"></span><span>              </span><span class="annot"><a href="#local-6989586621681095444"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">3</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Apply"><span class="hs-identifier hs-var">Apply</span></a></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-320"></span><span>              </span><span class="annot"><a href="#local-6989586621681095444"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">4</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
ann -&gt; Some (ValueOf uni) -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Constant"><span class="hs-identifier hs-var">Constant</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-321"></span><span>              </span><span class="annot"><a href="#local-6989586621681095444"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">5</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; Term tyname name uni fun ann
-&gt; Type tyname uni ann
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#TyInst"><span class="hs-identifier hs-var">TyInst</span></a></span><span>   </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-322"></span><span>              </span><span class="annot"><a href="#local-6989586621681095444"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">6</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
ann -&gt; Term tyname name uni fun ann -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Unwrap"><span class="hs-identifier hs-var">Unwrap</span></a></span><span>   </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-323"></span><span>              </span><span class="annot"><a href="#local-6989586621681095444"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">7</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; Type tyname uni ann
-&gt; Type tyname uni ann
-&gt; Term tyname name uni fun ann
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#IWrap"><span class="hs-identifier hs-var">IWrap</span></a></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-324"></span><span>              </span><span class="annot"><a href="#local-6989586621681095444"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">8</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
ann -&gt; Type tyname uni ann -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Error"><span class="hs-identifier hs-var">Error</span></a></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-325"></span><span>              </span><span class="annot"><a href="#local-6989586621681095444"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">9</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
ann -&gt; fun -&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Builtin"><span class="hs-identifier hs-var">Builtin</span></a></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-326"></span><span>              </span><span class="annot"><a href="#local-6989586621681095444"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">10</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; Type tyname uni ann
-&gt; Word64
-&gt; [Term tyname name uni fun ann]
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Constr"><span class="hs-identifier hs-var">Constr</span></a></span><span>   </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-327"></span><span>              </span><span class="annot"><a href="#local-6989586621681095444"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">11</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; Type tyname uni ann
-&gt; Term tyname name uni fun ann
-&gt; [Term tyname name uni fun ann]
-&gt; Term tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Case"><span class="hs-identifier hs-var">Case</span></a></span><span>     </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-328"></span><span>              </span><span class="annot"><a href="#local-6989586621681095444"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; [Char] -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Failed to decode Term TyName Name ()&quot;</span></span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span>    </span><span id="local-6989586621681095295"><span class="annot"><span class="annottext">size :: Term tyname name uni fun ann -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621681095295"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span id="local-6989586621681095294"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095294"><span class="hs-identifier hs-var">tm</span></a></span></span><span> </span><span id="local-6989586621681095293"><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095293"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-331"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-332"></span><span>        </span><span id="local-6989586621681095292"><span class="annot"><span class="annottext">sz' :: NumBits
</span><a href="#local-6989586621681095292"><span class="hs-identifier hs-var hs-var">sz'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="PlutusCore.Flat.html#termTagWidth"><span class="hs-identifier hs-var">termTagWidth</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095293"><span class="hs-identifier hs-var">sz</span></a></span><span>
</span><span id="line-333"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095294"><span class="hs-identifier hs-var">tm</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-334"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span>      </span><span id="local-6989586621681095291"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095291"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095290"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681095290"><span class="hs-identifier hs-var">n</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095291"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681095290"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095292"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-335"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyAbs"><span class="hs-identifier hs-type">TyAbs</span></a></span><span>    </span><span id="local-6989586621681095289"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095289"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095288"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095288"><span class="hs-identifier hs-var">tn</span></a></span></span><span> </span><span id="local-6989586621681095287"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095287"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681095286"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095286"><span class="hs-identifier hs-var">t</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095289"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095288"><span class="hs-identifier hs-var">tn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095287"><span class="hs-identifier hs-var">k</span></a></span><span>  </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095286"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095292"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-336"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#LamAbs"><span class="hs-identifier hs-type">LamAbs</span></a></span><span>   </span><span id="local-6989586621681095285"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095285"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095284"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681095284"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681095283"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095283"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681095282"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095282"><span class="hs-identifier hs-var">t</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095285"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681095284"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095283"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095282"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095292"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-337"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Apply"><span class="hs-identifier hs-type">Apply</span></a></span><span>    </span><span id="local-6989586621681095281"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095281"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095280"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095280"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681095279"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095279"><span class="hs-identifier hs-var">t'</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095281"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095280"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095279"><span class="hs-identifier hs-var">t'</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095292"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-338"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span id="local-6989586621681095278"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095278"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095277"><span class="annot"><span class="annottext">Some (ValueOf uni)
</span><a href="#local-6989586621681095277"><span class="hs-identifier hs-var">c</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095278"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Some (ValueOf uni)
</span><a href="#local-6989586621681095277"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095292"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-339"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#TyInst"><span class="hs-identifier hs-type">TyInst</span></a></span><span>   </span><span id="local-6989586621681095276"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095276"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095275"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095275"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681095274"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095274"><span class="hs-identifier hs-var">ty</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095276"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095275"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095274"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095292"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-340"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Unwrap"><span class="hs-identifier hs-type">Unwrap</span></a></span><span>   </span><span id="local-6989586621681095273"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095273"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095272"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095272"><span class="hs-identifier hs-var">t</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095273"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095272"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095292"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-341"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#IWrap"><span class="hs-identifier hs-type">IWrap</span></a></span><span>    </span><span id="local-6989586621681095271"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095271"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095270"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095270"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span id="local-6989586621681095269"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095269"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681095268"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095268"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095271"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095270"><span class="hs-identifier hs-var">pat</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095269"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095268"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095292"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-342"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Error"><span class="hs-identifier hs-type">Error</span></a></span><span>    </span><span id="local-6989586621681095267"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095267"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095266"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095266"><span class="hs-identifier hs-var">ty</span></a></span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095267"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095266"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095292"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-343"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Builtin"><span class="hs-identifier hs-type">Builtin</span></a></span><span>  </span><span id="local-6989586621681095265"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095265"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095264"><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681095264"><span class="hs-identifier hs-var">bn</span></a></span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095265"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681095264"><span class="hs-identifier hs-var">bn</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095292"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-344"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Constr"><span class="hs-identifier hs-type">Constr</span></a></span><span>   </span><span id="local-6989586621681095263"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095263"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095262"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095262"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681095261"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681095261"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681095260"><span class="annot"><span class="annottext">[Term tyname name uni fun ann]
</span><a href="#local-6989586621681095260"><span class="hs-identifier hs-var">es</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095263"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095262"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681095261"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">[Term tyname name uni fun ann]
</span><a href="#local-6989586621681095260"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095292"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-345"></span><span>        </span><span class="annot"><a href="PlutusCore.Core.Type.html#Case"><span class="hs-identifier hs-type">Case</span></a></span><span>     </span><span id="local-6989586621681095259"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095259"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095258"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095258"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621681095257"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095257"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621681095256"><span class="annot"><span class="annottext">[Term tyname name uni fun ann]
</span><a href="#local-6989586621681095256"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095259"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095258"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095257"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">[Term tyname name uni fun ann]
</span><a href="#local-6989586621681095256"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">NumBits
</span><a href="#local-6989586621681095292"><span class="hs-identifier hs-var">sz'</span></a></span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681095252"><span id="local-6989586621681096312"><span id="local-6989586621681096313"><span id="local-6989586621681096314"><span id="local-6989586621681096315"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Universe.Core.html#Closed"><span class="hs-identifier hs-type">Closed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096315"><span class="hs-identifier hs-type">uni</span></a></span><span>
</span><span id="line-348"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621681096314"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-349"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621681096313"><span class="hs-identifier hs-type">tyname</span></a></span><span>
</span><span id="line-350"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621681096312"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-351"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#VarDecl"><span class="hs-identifier hs-type">VarDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096313"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096312"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096315"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096314"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-352"></span><span>    </span><span id="local-6989586621681095246"><span class="annot"><span class="annottext">encode :: VarDecl tyname name uni ann -&gt; Encoding
</span><a href="#local-6989586621681095246"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#VarDecl"><span class="hs-identifier hs-type">VarDecl</span></a></span><span> </span><span id="local-6989586621681095244"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095244"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681095243"><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681095243"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621681095242"><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095242"><span class="hs-identifier hs-var">tyname</span></a></span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095244"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">name
</span><a href="#local-6989586621681095243"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Type tyname uni ann
</span><a href="#local-6989586621681095242"><span class="hs-identifier hs-var">tyname</span></a></span><span>
</span><span id="line-353"></span><span>    </span><span id="local-6989586621681095235"><span class="annot"><span class="annottext">decode :: Get (VarDecl tyname name uni ann)
</span><a href="#local-6989586621681095235"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) ann.
ann -&gt; name -&gt; Type tyname uni ann -&gt; VarDecl tyname name uni ann
</span><a href="PlutusCore.Core.Type.html#VarDecl"><span class="hs-identifier hs-var">VarDecl</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681095231"><span id="local-6989586621681096306"><span id="local-6989586621681096307"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621681096307"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621681096306"><span class="hs-identifier hs-type">tyname</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#TyVarDecl"><span class="hs-identifier hs-type">TyVarDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096306"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096307"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-356"></span><span>    </span><span id="local-6989586621681095225"><span class="annot"><span class="annottext">encode :: TyVarDecl tyname ann -&gt; Encoding
</span><a href="#local-6989586621681095225"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#TyVarDecl"><span class="hs-identifier hs-type">TyVarDecl</span></a></span><span> </span><span id="local-6989586621681095223"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095223"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681095222"><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095222"><span class="hs-identifier hs-var">tyname</span></a></span></span><span> </span><span id="local-6989586621681095221"><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095221"><span class="hs-identifier hs-var">kind</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095223"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">tyname
</span><a href="#local-6989586621681095222"><span class="hs-identifier hs-var">tyname</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Kind ann
</span><a href="#local-6989586621681095221"><span class="hs-identifier hs-var">kind</span></a></span><span>
</span><span id="line-357"></span><span>    </span><span id="local-6989586621681095214"><span class="annot"><span class="annottext">decode :: Get (TyVarDecl tyname ann)
</span><a href="#local-6989586621681095214"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname ann.
ann -&gt; tyname -&gt; Kind ann -&gt; TyVarDecl tyname ann
</span><a href="PlutusCore.Core.Type.html#TyVarDecl"><span class="hs-identifier hs-var">TyVarDecl</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681095210"><span id="local-6989586621681096299"><span id="local-6989586621681096300"><span id="local-6989586621681096301"><span id="local-6989586621681096302"><span id="local-6989586621681096303"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621681096303"><span class="hs-identifier hs-type">ann</span></a></span><span>
</span><span id="line-360"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096302"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096301"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096300"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096299"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096303"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Program"><span class="hs-identifier hs-type">Program</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096302"><span class="hs-identifier hs-type">tyname</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096301"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096300"><span class="hs-identifier hs-type">uni</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096299"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096303"><span class="hs-identifier hs-type">ann</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-362"></span><span>    </span><span id="local-6989586621681095204"><span class="annot"><span class="annottext">encode :: Program tyname name uni fun ann -&gt; Encoding
</span><a href="#local-6989586621681095204"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Program"><span class="hs-identifier hs-type">Program</span></a></span><span> </span><span id="local-6989586621681095202"><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095202"><span class="hs-identifier hs-var">ann</span></a></span></span><span> </span><span id="local-6989586621681095201"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621681095201"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621681095200"><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095200"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">ann
</span><a href="#local-6989586621681095202"><span class="hs-identifier hs-var">ann</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621681095201"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Term tyname name uni fun ann
</span><a href="#local-6989586621681095200"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-363"></span><span>    </span><span id="local-6989586621681095193"><span class="annot"><span class="annottext">decode :: Get (Program tyname name uni fun ann)
</span><a href="#local-6989586621681095193"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall tyname name (uni :: * -&gt; *) fun ann.
ann
-&gt; Version
-&gt; Term tyname name uni fun ann
-&gt; Program tyname name uni fun ann
</span><a href="PlutusCore.Core.Type.html#Program"><span class="hs-identifier hs-var">Program</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span id="local-6989586621681095182"><span id="local-6989586621681095186"><span id="local-6989586621681095190"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621681096291"><span class="annot"><a href="#local-6989586621681096291"><span class="hs-keyword hs-type">newtype</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="#local-6989586621681096291"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Normalized"><span class="hs-identifier hs-type">Normalized</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681096291"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span class="hs-comment">-- See Note [Index (Word64) (de)serialized through Natural]</span><span>
</span><span id="line-368"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="PlutusCore.DeBruijn.Internal.html#Index"><span class="hs-identifier hs-type">Index</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-369"></span><span>    </span><span class="hs-comment">-- encode from word64 to natural</span><span>
</span><span id="line-370"></span><span>    </span><span id="local-6989586621681095170"><span class="annot"><span class="annottext">encode :: Index -&gt; Encoding
</span><a href="#local-6989586621681095170"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-bignum-1.3/src"><span class="hs-identifier hs-type">Natural</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span>
</span><span id="line-371"></span><span>    </span><span class="hs-comment">-- decode from natural to word64</span><span>
</span><span id="line-372"></span><span>    </span><span id="local-6989586621681095163"><span class="annot"><span class="annottext">decode :: Get Index
</span><a href="#local-6989586621681095163"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-373"></span><span>        </span><span id="local-6989586621681095162"><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621681095162"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-bignum-1.3/src"><span class="hs-identifier hs-type">Natural</span></a></span><span>
</span><span id="line-374"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Maybe Word64
</span><a href="GHC.Natural.Extras.html#naturalToWord64Maybe"><span class="hs-identifier hs-var">naturalToWord64Maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621681095162"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-375"></span><span>            </span><span class="annot"><span class="annottext">Maybe Word64
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadFail m =&gt; [Char] -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Index outside representable range: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621681095162"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-376"></span><span>            </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621681095160"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681095160"><span class="hs-identifier hs-var">w64</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Index
</span><a href="PlutusCore.DeBruijn.Internal.html#Index"><span class="hs-identifier hs-var">Index</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621681095160"><span class="hs-identifier hs-var">w64</span></a></span><span>
</span><span id="line-377"></span><span>    </span><span class="hs-comment">-- to be exact, we must not let this be generically derived,</span><span>
</span><span id="line-378"></span><span>    </span><span class="hs-comment">-- because the `gsize` would derive the size of the underlying Word64,</span><span>
</span><span id="line-379"></span><span>    </span><span class="hs-comment">-- whereas we want the size of Natural</span><span>
</span><span id="line-380"></span><span>    </span><span id="local-6989586621681095156"><span class="annot"><span class="annottext">size :: Index -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621681095156"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Size Natural
</span><span class="hs-identifier hs-var">sNatural</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span id="local-6989586621681095145"><span id="local-6989586621681095149"><span id="local-6989586621681095153"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="PlutusCore.DeBruijn.Internal.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span></span></span></span><span> </span><span class="hs-comment">-- via index</span><span>
</span><span id="line-383"></span><span id="local-6989586621681095132"><span id="local-6989586621681095136"><span id="local-6989586621681095140"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="PlutusCore.DeBruijn.Internal.html#TyDeBruijn"><span class="hs-identifier hs-type">TyDeBruijn</span></a></span></span></span></span><span> </span><span class="hs-comment">-- via debruijn</span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681095125"><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="PlutusCore.DeBruijn.Internal.html#NamedDeBruijn"><span class="hs-identifier hs-type">NamedDeBruijn</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-386"></span><span>    </span><span id="local-6989586621681095121"><span class="annot"><span class="annottext">encode :: NamedDeBruijn -&gt; Encoding
</span><a href="#local-6989586621681095121"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.DeBruijn.Internal.html#NamedDeBruijn"><span class="hs-identifier hs-type">NamedDeBruijn</span></a></span><span> </span><span id="local-6989586621681095119"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621681095119"><span class="hs-identifier hs-var">txt</span></a></span></span><span> </span><span id="local-6989586621681095118"><span class="annot"><span class="annottext">Index
</span><a href="#local-6989586621681095118"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621681095119"><span class="hs-identifier hs-var">txt</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">Index
</span><a href="#local-6989586621681095118"><span class="hs-identifier hs-var">ix</span></a></span><span>
</span><span id="line-387"></span><span>    </span><span id="local-6989586621681095113"><span class="annot"><span class="annottext">decode :: Get NamedDeBruijn
</span><a href="#local-6989586621681095113"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Index -&gt; NamedDeBruijn
</span><a href="PlutusCore.DeBruijn.Internal.html#NamedDeBruijn"><span class="hs-identifier hs-var">NamedDeBruijn</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span id="local-6989586621681095103"><span id="local-6989586621681095107"><span id="local-6989586621681095111"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="PlutusCore.DeBruijn.Internal.html#NamedTyDeBruijn"><span class="hs-identifier hs-type">NamedTyDeBruijn</span></a></span></span></span></span><span> </span><span class="hs-comment">-- via nameddebruijn</span><span>
</span><span id="line-390"></span><span>
</span><span id="line-391"></span><span class="hs-comment">-- NOTE: the serialization roundtrip holds iff the invariant binder.index==0 holds</span><span>
</span><span id="line-392"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Binder"><span class="hs-identifier hs-type">Binder</span></a></span><span> </span><span class="annot"><a href="PlutusCore.DeBruijn.Internal.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-393"></span><span>    </span><span id="local-6989586621681095095"><span class="annot"><span class="annottext">size :: Binder DeBruijn -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621681095095"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span> </span><span class="annot"><span class="annottext">Binder DeBruijn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="hs-comment">-- zero cost</span><span>
</span><span id="line-394"></span><span>    </span><span id="local-6989586621681095091"><span class="annot"><span class="annottext">encode :: Binder DeBruijn -&gt; Encoding
</span><a href="#local-6989586621681095091"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="annot"><span class="annottext">Binder DeBruijn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-395"></span><span>    </span><span id="local-6989586621681095089"><span class="annot"><span class="annottext">decode :: Get (Binder DeBruijn)
</span><a href="#local-6989586621681095089"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall name. name -&gt; Binder name
</span><a href="PlutusCore.Core.Type.html#Binder"><span class="hs-identifier hs-var">Binder</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Index -&gt; DeBruijn
</span><a href="PlutusCore.DeBruijn.Internal.html#DeBruijn"><span class="hs-identifier hs-var">DeBruijn</span></a></span><span> </span><span class="annot"><span class="annottext">Index
</span><a href="PlutusCore.DeBruijn.Internal.html#deBruijnInitIndex"><span class="hs-identifier hs-var">deBruijnInitIndex</span></a></span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span class="hs-comment">-- (Binder TyDeBruin) could similarly have a flat instance, but we don't need it.</span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span id="local-6989586621681095076"><span id="local-6989586621681095080"><span id="local-6989586621681095084"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Binder"><span class="hs-identifier hs-type">Binder</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-400"></span><span id="local-6989586621681095063"><span id="local-6989586621681095067"><span id="local-6989586621681095071"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Binder"><span class="hs-identifier hs-type">Binder</span></a></span><span> </span><span class="annot"><a href="PlutusCore.Name.html#TyName"><span class="hs-identifier hs-type">TyName</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-401"></span><span class="hs-comment">-- We could use an alternative, manual Flat-serialization of Named(Ty)DeBruijn</span><span>
</span><span id="line-402"></span><span class="hs-comment">-- where we store the name only at the binder and the index only at the use-site (Var/TyVar).</span><span>
</span><span id="line-403"></span><span class="hs-comment">-- That would be more compact, but we don't need it at the moment.</span><span>
</span><span id="line-404"></span><span id="local-6989586621681095050"><span id="local-6989586621681095054"><span id="local-6989586621681095058"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Binder"><span class="hs-identifier hs-type">Binder</span></a></span><span> </span><span class="annot"><a href="PlutusCore.DeBruijn.Internal.html#NamedDeBruijn"><span class="hs-identifier hs-type">NamedDeBruijn</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-405"></span><span id="local-6989586621681095037"><span id="local-6989586621681095041"><span id="local-6989586621681095045"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Binder"><span class="hs-identifier hs-type">Binder</span></a></span><span> </span><span class="annot"><a href="PlutusCore.DeBruijn.Internal.html#NamedTyDeBruijn"><span class="hs-identifier hs-type">NamedTyDeBruijn</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span class="hs-comment">-- this instance is very similar to the Flat DeBruijn instance.</span><span>
</span><span id="line-408"></span><span class="hs-comment">-- NOTE: the serialization roundtrip holds iff the invariant name==fakeName holds</span><span>
</span><span id="line-409"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="annot"><a href="PlutusCore.DeBruijn.Internal.html#FakeNamedDeBruijn"><span class="hs-identifier hs-type">FakeNamedDeBruijn</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-410"></span><span>    </span><span id="local-6989586621681095028"><span class="annot"><span class="annottext">size :: FakeNamedDeBruijn -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621681095028"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FakeNamedDeBruijn -&gt; DeBruijn
</span><a href="PlutusCore.DeBruijn.Internal.html#fromFake"><span class="hs-identifier hs-var">fromFake</span></a></span><span> </span><span class="hs-comment">-- via debruijn</span><span>
</span><span id="line-411"></span><span>    </span><span id="local-6989586621681095025"><span class="annot"><span class="annottext">encode :: FakeNamedDeBruijn -&gt; Encoding
</span><a href="#local-6989586621681095025"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FakeNamedDeBruijn -&gt; DeBruijn
</span><a href="PlutusCore.DeBruijn.Internal.html#fromFake"><span class="hs-identifier hs-var">fromFake</span></a></span><span> </span><span class="hs-comment">-- via debruijn</span><span>
</span><span id="line-412"></span><span>    </span><span id="local-6989586621681095022"><span class="annot"><span class="annottext">decode :: Get FakeNamedDeBruijn
</span><a href="#local-6989586621681095022"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">DeBruijn -&gt; FakeNamedDeBruijn
</span><a href="PlutusCore.DeBruijn.Internal.html#toFake"><span class="hs-identifier hs-var">toFake</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="hs-comment">-- via debruijn</span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span class="hs-comment">-- this instance is very similar to the Flat (Binder DeBruijn) instance.</span><span>
</span><span id="line-415"></span><span class="hs-comment">-- NOTE: the serialization roundtrip holds iff the invariant name==fakeName holds</span><span>
</span><span id="line-416"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Binder"><span class="hs-identifier hs-type">Binder</span></a></span><span> </span><span class="annot"><a href="PlutusCore.DeBruijn.Internal.html#FakeNamedDeBruijn"><span class="hs-identifier hs-type">FakeNamedDeBruijn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-417"></span><span>    </span><span id="local-6989586621681095014"><span class="annot"><span class="annottext">size :: Binder FakeNamedDeBruijn -&gt; NumBits -&gt; NumBits
</span><a href="#local-6989586621681095014"><span class="hs-identifier hs-var hs-var hs-var hs-var">size</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; NumBits -&gt; NumBits
</span><span class="hs-identifier hs-var">size</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FakeNamedDeBruijn -&gt; DeBruijn
</span><a href="PlutusCore.DeBruijn.Internal.html#fromFake"><span class="hs-identifier hs-var">fromFake</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">coerce :: forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">coerce</span></a></span><span> </span><span class="hs-comment">-- via binder debruijn</span><span>
</span><span id="line-418"></span><span>    </span><span id="local-6989586621681095011"><span class="annot"><span class="annottext">encode :: Binder FakeNamedDeBruijn -&gt; Encoding
</span><a href="#local-6989586621681095011"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; a -&gt; Encoding
</span><span class="hs-identifier hs-var">encode</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FakeNamedDeBruijn -&gt; DeBruijn
</span><a href="PlutusCore.DeBruijn.Internal.html#fromFake"><span class="hs-identifier hs-var">fromFake</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">coerce :: forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">coerce</span></a></span><span> </span><span class="hs-comment">-- via binder debruijn</span><span>
</span><span id="line-419"></span><span>    </span><span id="local-6989586621681095006"><span class="annot"><span class="annottext">decode :: Get (Binder FakeNamedDeBruijn)
</span><a href="#local-6989586621681095006"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">coerce :: forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">DeBruijn -&gt; FakeNamedDeBruijn
</span><a href="PlutusCore.DeBruijn.Internal.html#toFake"><span class="hs-identifier hs-var">toFake</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">coerce :: forall a b. Coercible a b =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Flat a =&gt; Get a
</span><span class="hs-identifier hs-var">decode</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="PlutusCore.Core.Type.html#Binder"><span class="hs-identifier hs-type">Binder</span></a></span><span> </span><span class="annot"><a href="PlutusCore.DeBruijn.Internal.html#DeBruijn"><span class="hs-identifier hs-type">DeBruijn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- via binder debruijn</span><span>
</span><span id="line-420"></span></pre></body></html>